# Итоговый проект блока 1 «Основные конструкции C++» (PJ-03)

# my_messager
Идея: простой месседжер с общим чатом, личными сообщениями, регистрацией и авторизацией пользователей.

В качестве итогового проекта в команде с сокурсниками реализована следующая задача.

#### Условие задачи
Создан чат со следующим функционалом:
- консольная программа
- регистрация пользователей - логин, пароль, имя
- вход в чат по логину/паролю
- отправка сообщений конкретному пользователю
- обмен сообщениями между всеми пользователями чата одновременно

В чате согласно условию задания используются *классы*.

Класс *NewUser*, предок класса *Acc*, предназначенный для хранения и обработки учётных данных пользователя содержит:
- `string _login` - логин пользователя;
- `const  string getLogin() const` - получить логин пользователя;
- `void setLogin(const string login)` - установить и вывести логин пользователя;
- `bool checkSymbols(const string some_string)` - проверить на соответствие символы в логине.

Класс *Acc*, наследник класса *NewUser*, предназначенный для хранения и обработки учётных данных пользователя содержит:
- `string _pswd` - пароль пользователя;
- `string _name` - имя пользователя;
- `int _lastReadMsg` - номер последнего прочитанного пользователем сообщения из вектора сообщений;
- конструктор класса, регистрирующий пользователя с ником, паролем и именем;
- `void Show()` - выводит на экран пароль пользователя;
- `const  string get_Pswd() const` - получить пароль пользователя;
- `void set_Pswd(const string pwd)` - установить пароль пользователя;
- `const  string getName() const` - получить имя пользователя;
- `void setName(const string name)` - установить имя пользователя;
- `bool CheckPassword(string& pwd)` - проверить пароль пользователя;
- `void setLastReadMsg(const int lastReadMsg)` - устанавливаем номер последнего прочитанного сообщения;
- `const int getLastReadMsg(void)` - получить номер последнего прочитанного сообщения.

Класс *UserRepository*, предназначенный для хранения и обработки учётных данных пользователя содержит :
- `vector<Acc*> _users` - вектор для хранения всех пользователей
- конструктор класса создаёт и помещает в вектор первого пользователя ALL для функционирования группового чата
- `Acc* NewUser()` - создаём последующего пользователя и помещаем в вектор для хранения всех пользователей
- `Acc* FindUser(string login)` - поиск логина пользователя, существует ли пользователь в векторе пользователей
- `Acc* AuthorizeUser(string login, string pwd)` - попытка авторизации пользователя
- `int getSize()` - получить количество зарегистрированных пользователей
- `void UsersList(void)` - вывод списка зарегистрированных пользователей

Класс *Message* предназначенный для хранения и обработки сообщения содержит:
- `string _userFrom` - логин отправителя сообщения
- `string _userTo` - логин получателя сообщения
- `string _text` - тело сообщения;
- `time_t _now` - штамп времени отправки сообщения;
- конструктор класса создаёт сообщение в котором указываем отправителя, получателя и тело сообщения, дата и время отправленного сообщения добавляется автоматически Message(string userFrom, string userTo, string text);
- `void Show(void)` - отобразить сообщение, которое хранится в классе
- `string getUserTo(void)` - получить имя получателя сообщения
- `string getUserFrom(void)` - получить имя отправителя сообщения

Класс *Chat* предназначенный для хранения и обработки всех сообщений пользователей в векторе содержит:
- `vector<Message*> _messages` - вектор для хранения всех сообщений пользователей;
- `void AddMessage(string userFrom, string userTo, string text)` - добавить сообщение для "отправки" в вектор сообщений;
- `void ViewAllMessages(void)` - вывод всех сообщений из вектора сообщений;
- `void ViewMessagesForUser(Acc* user)` - вывод сообщений для пользователя login из вектора сообщений *(Private Chat)*;
- `void ViewMessagesForAllUsers(Acc* user)` - вывод сообщений адресованых всем пользователям из вектора сообщений *(Public Chat)*.

Дополнительно реализована обработка исключений в классе *UserRepository*.

Реализован дополнительный функционал:
- при обмене сообщениями между зарегистриованными пользователями сохраняется дата и время отправки сообщения;
- после авторизации зарегистрированного пользователя выводятся только не прочитанные в прошлый раз сообщения;

В процессе командной работы был подготовлен самодокументированный исходный код приложения. В README представлена полная информация по проекту.

Команда состоит из 3 человек:
- список участников команды: Эдуард Кушнир, Александр Очеретин, Евгений Сахаров;
- имя тимлида: Александр Очеретин;
- описание выбранной идеи решения, создаётся два вектора `vector<Acc*> _users` - для хранения и  учёта всех пользователей, где каждый элемент вектора как отдельный экземпляр класса *Acc*, вектор `vector<Message*> _messages` - для хранения и обработки всех сообщений, где каждое сообщение как отдельный экземпляр класса *Message*;
- описание пользовательских типов и функций в проекте;
- пояснение, как были распределены задачи в команде (кто какую часть проекта реализовывал): Эдуард Кушнир - регистрация пользователей, Александр Очеретин - работа с сообщениямм, Евгений Сахаров - работа с исключениями.
